<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="balgil.com.trip.users">
	<select id="U_SELECT_ONE" resultType="balgil.com.trip.users.model.UsersVO">
		select * from users where id = #{id}
	</select>
	
	<insert id="U_INSERT">
		insert into users(id, user_id, pw, name, tel, eng_name, email, type) 
		values(seq_user.nextval, #{user_id}, #{pw}, #{name}, #{tel}, #{eng_name}, #{email}, #{type})
	</insert>
	
	<update id="U_UPDATE">
		update users set name=#{name}, eng_name=#{eng_name}, tel=#{tel}, email=#{email}, img=#{img}
		where user_id = #{user_id}
	
	</update>
	
	<select id="U_ID_CHECK" resultType="balgil.com.trip.users.model.UsersVO">
		select * from users where user_id = #{user_id}
	</select>
	
	<select id="LOGIN" resultType="balgil.com.trip.users.model.UsersVO">
		select * from users where user_id = #{user_id} and pw = #{pw}
	</select>
	
	
	

	<!-- reservation용입니다 -->
	<select id="USER_SELECT_ONE" resultType="balgil.com.trip.users.model.UsersVO"> 
		select * from users where user_id = #{user_id}
	</select>
	
	<update id="USERPOINT_UPDATE">
		update users set point = point - #{point} where user_id = #{user_id}
	</update>

	<update id="USERPOINT_INSERT_BACK">
		update users set point = point + #{point} where user_id = #{user_id}
	</update>
</mapper>